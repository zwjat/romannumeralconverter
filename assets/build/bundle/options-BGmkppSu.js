import{g as H}from"./_commonjsHelpers-Cpj98o6Y.js";const t0=document.getElementById("input"),n0=document.getElementById("output"),o0=document.getElementById("play-input"),s0=document.getElementById("stop-input"),N=document.querySelector(".play-morse"),J=document.querySelector(".stop-morse"),a0=document.getElementById("input-word-count"),r0=document.getElementById("input-character-count");document.getElementById("output-word-count");const c0=document.getElementById("output-character-count");document.getElementById("input-bit-count");document.getElementById("input-byte-count");document.getElementById("output-bit-count");document.getElementById("output-byte-count");document.getElementById("play-sos");document.getElementById("stop-sos");const v=document.getElementById("dash"),E=document.getElementById("dot"),C=document.getElementById("space"),x=document.getElementById("separator"),A=document.getElementById("alphabet");document.getElementById("unit");const I=document.getElementById("type"),B=document.getElementById("wpm"),b=document.getElementById("frequency");var O={exports:{}},T;function K(){return T||(T=1,(function(l,w){const y={1:{A:"01",B:"1000",C:"1010",D:"100",E:"0",F:"0010",G:"110",H:"0000",I:"00",J:"0111",K:"101",L:"0100",M:"11",N:"10",O:"111",P:"0110",Q:"1101",R:"010",S:"000",T:"1",U:"001",V:"0001",W:"011",X:"1001",Y:"1011",Z:"1100"},2:{0:"11111",1:"01111",2:"00111",3:"00011",4:"00001",5:"00000",6:"10000",7:"11000",8:"11100",9:"11110"},3:{".":"010101",",":"110011","?":"001100","'":"011110","!":"101011","/":"10010","(":"10110",")":"101101","&":"01000",":":"111000",";":"101010","=":"10001","+":"01010","-":"100001",_:"001101",'"':"010010",$:"0001001","@":"011010","¿":"00101","¡":"110001"},4:{Ã:"01101",Á:"01101",Å:"01101",À:"01101",Â:"01101",Ä:"0101",Ą:"0101",Æ:"0101",Ç:"10100",Ć:"10100",Ĉ:"10100",Č:"110",Ð:"00110",È:"01001",Ę:"00100",Ë:"00100",É:"00100",Ê:"10010",Ğ:"11010",Ĝ:"11010",Ĥ:"1111",İ:"01001",Ï:"10011",Ì:"01110",Ĵ:"01110",Ł:"01001",Ń:"11011",Ñ:"11011",Ó:"1110",Ò:"1110",Ö:"1110",Ô:"1110",Ø:"1110",Ś:"0001000",Ş:"01100",Ș:"1111",Š:"1111",Ŝ:"00010",ß:"000000",Þ:"01100",Ü:"0011",Ù:"0011",Ŭ:"0011",Ž:"11001",Ź:"110010",Ż:"11001"},5:{А:"01",Б:"1000",В:"011",Г:"110",Д:"100",Е:"0",Ж:"0001",З:"1100",И:"00",Й:"0111",К:"101",Л:"0100",М:"11",Н:"10",О:"111",П:"0110",Р:"010",С:"000",Т:"1",У:"001",Ф:"0010",Х:"0000",Ц:"1010",Ч:"1110",Ш:"1111",Щ:"1101",Ъ:"11011",Ы:"1011",Ь:"1001",Э:"00100",Ю:"0011",Я:"0101",Ї:"01110",Є:"00100",І:"00",Ґ:"110"},6:{Α:"01",Β:"1000",Γ:"110",Δ:"100",Ε:"0",Ζ:"1100",Η:"0000",Θ:"1010",Ι:"00",Κ:"101",Λ:"0100",Μ:"11",Ν:"10",Ξ:"1001",Ο:"111",Π:"0110",Ρ:"010",Σ:"000",Τ:"1",Υ:"1011",Φ:"0010",Χ:"1111",Ψ:"1101",Ω:"011"},7:{א:"01",ב:"1000",ג:"110",ד:"100",ה:"111",ו:"0",ז:"1100",ח:"0000",ט:"001",י:"00",כ:"101",ל:"0100",מ:"11",נ:"10",ס:"1010",ע:"0111",פ:"0110",צ:"011",ק:"1101",ר:"010",ש:"000",ת:"1"},8:{ا:"01",ب:"1000",ت:"1",ث:"1010",ج:"0111",ح:"0000",خ:"111",د:"100",ذ:"1100",ر:"010",ز:"1110",س:"000",ش:"1111",ص:"1001",ض:"0001",ط:"001",ظ:"1011",ع:"0101",غ:"110",ف:"0010",ق:"1101",ك:"101",ل:"0100",م:"11",ن:"10",ه:"00100",و:"011",ي:"00",ﺀ:"0"},9:{ا:"01",ب:"1000",پ:"0110",ت:"1",ث:"1010",ج:"0111",چ:"1110",ح:"0000",خ:"1001",د:"100",ذ:"0001",ر:"010",ز:"1100",ژ:"110",س:"000",ش:"1111",ص:"0101",ض:"00100",ط:"001",ظ:"1011",ع:"111",غ:"0011",ف:"0010",ق:"111000",ک:"101",گ:"1101",ل:"0100",م:"11",ن:"10",و:"011",ه:"0",ی:"00"},10:{ア:"11011",カ:"0100",サ:"10101",タ:"10",ナ:"010",ハ:"1000",マ:"1001",ヤ:"011",ラ:"000",ワ:"101",イ:"01",キ:"10100",シ:"11010",チ:"0010",ニ:"1010",ヒ:"11001",ミ:"00101",リ:"110",ヰ:"01001",ウ:"001",ク:"0001",ス:"11101",ツ:"0110",ヌ:"0000",フ:"1100",ム:"1",ユ:"10011",ル:"10110",ン:"01010",エ:"10111",ケ:"1011",セ:"01110",テ:"01011",ネ:"1101",ヘ:"0",メ:"10001",レ:"111",ヱ:"01100",オ:"01000",コ:"1111",ソ:"1110",ト:"00100",ノ:"0011",ホ:"100",モ:"10010",ヨ:"11",ロ:"0101",ヲ:"0111","゛":"00","゜":"00110","。":"010100",ー:"01101","、":"010101","（":"101101","）":"010010"},11:{ㄱ:"0100",ㄴ:"0010",ㄷ:"1000",ㄹ:"0001",ㅁ:"11",ㅂ:"011",ㅅ:"110",ㅇ:"101",ㅈ:"0110",ㅊ:"1010",ㅋ:"1001",ㅌ:"1100",ㅍ:"111",ㅎ:"0111",ㅏ:"0",ㅑ:"00",ㅓ:"1",ㅕ:"000",ㅗ:"01",ㅛ:"10",ㅜ:"0000",ㅠ:"010",ㅡ:"100",ㅣ:"001",ㅐ:"1101",ㅔ:"1011"},12:{ก:"110",ข:"1010",ค:"101",ง:"10110",จ:"10010",ฉ:"1111",ช:"1001",ซ:"1100",ญ:"0111",ด:"100",ต:"1",ถ:"10100",ท:"10011",น:"10",บ:"1000",ป:"0110",ผ:"1101",ฝ:"10101",พ:"01100",ฟ:"0010",ม:"11",ย:"1011",ร:"010",ล:"0100",ว:"011",ส:"000",ห:"0000",อ:"10001",ฮ:"11011",ฤ:"01011",ะ:"01000",า:"01","ิ":"00100","ี":"00","ึ":"00110","ื":"0011","ุ":"00101","ู":"1110",เ:"0",แ:"0101",ไ:"01001",โ:"111",ำ:"00010","่":"001","้":"0001","๊":"11000","๋":"01010","ั":"01101","็":"11100","์":"11001",ๆ:"10111",ฯ:"11010"}},U=e=>Object.assign(Object.assign({},y),{0:y[e.priority],1:Object.assign(Object.assign({},y[1]),{[e.separator]:e.space})}),j=(e,o)=>{const r={},t=U(e);for(const n in t){r[n]={};for(const d in t[n])r[n][d]=t[n][d].replace(/0/g,e.dot).replace(/1/g,e.dash)}return o||delete r[0],r},V=e=>{const o={},r=j(e,!0);for(const t in r)for(const n in r[t])typeof o[r[t][n]]>"u"&&(o[r[t][n]]=n);return o},h=(e={})=>{var o,r,t;return Object.assign(Object.assign({},e),{dash:e.dash||"-",dot:e.dot||".",space:e.space||"/",separator:e.separator||" ",invalid:e.invalid||"#",priority:e.priority||1,wpm:e.wpm,unit:e.unit||.08,fwUnit:e.fwUnit||e.unit||.08,volume:e.volume||100,oscillator:Object.assign(Object.assign({},e.oscillator),{type:((o=e.oscillator)===null||o===void 0?void 0:o.type)||"sine",frequency:((r=e.oscillator)===null||r===void 0?void 0:r.frequency)||500,onended:((t=e.oscillator)===null||t===void 0?void 0:t.onended)||null})})},D=(e,o,r=0)=>{const t=[];let{unit:n,fwUnit:d}=o,s=0;o.wpm&&(n=d=60/(o.wpm*50)),t.push([0,s]);const c=a=>{t.push([1*(o.volume/100),r+s]),s+=a*n},u=a=>{t.push([0,r+s]),s+=a*n},i=a=>{t.push([0,r+s]),s+=a*d};for(let a=0,p=!1;a<=e.length;a++)e[a]===o.space?(i(7),p=!1):e[a]===o.dot?(p?u(1):p=!0,c(1)):e[a]===o.dash?(p?u(1):p=!0,c(3)):typeof e[a+1]<"u"&&e[a+1]!==o.space&&typeof e[a-1]<"u"&&e[a-1]!==o.space&&(i(3),p=!1);return[t,s]},P=(e,o)=>{const r=new ArrayBuffer(44+o.length*2),t=new DataView(r),n=(s,c,u)=>{for(let i=0;i<u.length;i++)s.setUint8(c+i,u.charCodeAt(i))};return n(t,0,"RIFF"),t.setUint32(4,36+o.length*2,!0),n(t,8,"WAVE"),n(t,12,"fmt "),t.setUint32(16,16,!0),t.setUint16(20,1,!0),t.setUint16(22,1,!0),t.setUint32(24,e,!0),t.setUint32(28,e*4,!0),t.setUint16(32,2,!0),t.setUint16(34,16,!0),n(t,36,"data"),t.setUint32(40,o.length*2,!0),((s,c,u)=>{for(let i=0;i<u.length;i++,c+=2){const a=Math.max(-1,Math.min(1,u[i]));s.setInt16(c,a<0?a*32768:a*32767,!0)}})(t,44,o),t},_=(e,o)=>{let r=window.AudioContext||window.webkitAudioContext,t=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(!r||!t)throw new Error("Web Audio API is not supported in this browser");const n=new r,[d,s]=D(e,o),c=new t(1,44100*s,44100),u=c.createOscillator(),i=c.createGain();u.type=o.oscillator.type,u.frequency.value=o.oscillator.frequency,d.forEach(([m,g])=>i.gain.setValueAtTime(m,g)),u.connect(i),i.connect(c.destination);let a;const p=new Promise((m,g)=>{u.start(0),c.startRendering(),c.oncomplete=f=>{try{a=n.createBufferSource(),a.buffer=f.renderedBuffer,a.connect(n.destination),a.onended=o.oscillator.onended,m()}catch($){g($)}},c.onerror=f=>{g(f)}});let q;const G=async()=>{await p,n.state==="suspended"&&await n.resume(),a.start(n.currentTime),q=window.setTimeout(()=>{M()},s*1e3)},M=()=>{clearTimeout(q),a&&a.stop(0)},k=async()=>{await p;const m=P(c.sampleRate,a.buffer.getChannelData(0));return new Blob([m],{type:"audio/wav"})},F=async()=>{const m=await k();return URL.createObjectURL(m)};return{play:G,stop:M,getWaveBlob:k,getWaveUrl:F,exportWave:async m=>{const g=await F(),f=document.createElement("a");f.href=g,f.target="_blank",f.download=m||"morse.wav",f.click()},context:n,oscillator:u,gainNode:i}};((e,o,r)=>{l.exports=r()})("morse-code-translator",globalThis,()=>{const e=(n,d)=>{const s=h(d),c=U(s);return[...n.replace(/\s+/g,s.separator).trim().toLocaleUpperCase()].map(function(u){for(const i in c)if(typeof c[i]<"u"&&typeof c[i][u]<"u")return c[i][u];return s.invalid}).join(s.separator).replace(/0/g,s.dot).replace(/1/g,s.dash)};return{characters:(n,d)=>j(h(n),d),decode:(n,d)=>{const s=h(d),c=V(s);return n.replace(/\s+/g,s.separator).trim().split(s.separator).map(function(u){return typeof c[u]<"u"?c[u]:s.invalid}).join("")},encode:e,audio:(n,d,s)=>{const c=s||e(n,d),u=h(d);return _(c,u)}}})})(O)),O.exports}var Q=K();const u0=H(Q),X=(l,w)=>{l.classList.remove("hidden"),w.classList.add("hidden")},i0=l=>{const w=Object.keys(l),y=w[Math.floor(Math.random()*w.length)];return[y,l[y]]};let Y=null,Z="input";const W=l=>{Y=l},d0=l=>{Z=l},S=600,L="sine",R=20,l0=()=>({wpm:(B==null?void 0:B.value)||R,dash:(v==null?void 0:v.value)||"-",dot:(E==null?void 0:E.value)||".",space:(C==null?void 0:C.value)||"/",separator:(x==null?void 0:x.value)||" ",priority:(A==null?void 0:A.value)||"1",oscillator:{type:(I==null?void 0:I.value)||L,frequency:(b==null?void 0:b.value)||S,onended:function(){W(null),X(N,J)}}}),p0=()=>({wpm:B.value||R,dash:v.value||"-",dot:E.value||".",oscillator:{type:I.value||L,frequency:b.value||S,onended:function(){W(null)}}});export{x as a,C as b,E as c,v as d,W as e,u0 as f,i0 as g,p0 as h,t0 as i,N as j,J as k,r0 as l,Y as m,c0 as n,n0 as o,o0 as p,a0 as q,Z as r,s0 as s,d0 as t,l0 as u,B as w};
